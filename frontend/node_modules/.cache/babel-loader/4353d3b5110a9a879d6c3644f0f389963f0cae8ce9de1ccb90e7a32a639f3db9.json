{"ast":null,"code":"import _regenerator from \"E:/phpDemo/frontend/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _asyncToGenerator from \"E:/phpDemo/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ref, onMounted } from 'vue';\nimport axios from 'axios';\nexport default {\n  name: 'ContactPage',\n  setup: function setup() {\n    var contact = ref({\n      email: '',\n      phone: '',\n      address: ''\n    });\n    var form = ref({\n      name: '',\n      email: '',\n      subject: '',\n      message: ''\n    });\n    var isSubmitting = ref(false);\n    var submitStatus = ref(null);\n    var fetchContactInfo = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n        var response, _t;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.n) {\n            case 0:\n              _context.p = 0;\n              _context.n = 1;\n              return axios.get('/api/settings.php?section=contact');\n            case 1:\n              response = _context.v;\n              if (response.data && response.data.contact) {\n                contact.value = response.data.contact;\n              }\n              _context.n = 3;\n              break;\n            case 2:\n              _context.p = 2;\n              _t = _context.v;\n              console.error('Error fetching contact info:', _t);\n            case 3:\n              return _context.a(2);\n          }\n        }, _callee, null, [[0, 2]]);\n      }));\n      return function fetchContactInfo() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var handleSubmit = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2() {\n        var response, _error$response, _t2;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.n) {\n            case 0:\n              isSubmitting.value = true;\n              submitStatus.value = null;\n              _context2.p = 1;\n              _context2.n = 2;\n              return axios.post('/api/contact.php', form.value);\n            case 2:\n              response = _context2.v;\n              submitStatus.value = {\n                success: true,\n                message: response.data.message\n              };\n              // 清空表单\n              form.value = {\n                name: '',\n                email: '',\n                subject: '',\n                message: ''\n              };\n              _context2.n = 4;\n              break;\n            case 3:\n              _context2.p = 3;\n              _t2 = _context2.v;\n              submitStatus.value = {\n                success: false,\n                message: ((_error$response = _t2.response) === null || _error$response === void 0 || (_error$response = _error$response.data) === null || _error$response === void 0 ? void 0 : _error$response.error) || 'An error occurred. Please try again.'\n              };\n            case 4:\n              _context2.p = 4;\n              isSubmitting.value = false;\n              return _context2.f(4);\n            case 5:\n              return _context2.a(2);\n          }\n        }, _callee2, null, [[1, 3, 4, 5]]);\n      }));\n      return function handleSubmit() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    onMounted(function () {\n      fetchContactInfo();\n    });\n    return {\n      contact: contact,\n      form: form,\n      isSubmitting: isSubmitting,\n      submitStatus: submitStatus,\n      handleSubmit: handleSubmit\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","axios","name","setup","contact","email","phone","address","form","subject","message","isSubmitting","submitStatus","fetchContactInfo","_ref","_asyncToGenerator","_regenerator","m","_callee","response","_t","w","_context","n","p","get","v","data","value","console","error","a","apply","arguments","handleSubmit","_ref2","_callee2","_error$response","_t2","_context2","post","success","f"],"sources":["E:\\phpDemo\\frontend\\src\\views\\Contact.vue"],"sourcesContent":["<template>\r\n  <div class=\"contact-page\">\r\n    <div class=\"container\">\r\n      <section class=\"section\">\r\n        <h1 class=\"section-title\">Get In Touch</h1>\r\n        <div class=\"contact-content\">\r\n          <div class=\"contact-info\">\r\n            <h3>Contact Information</h3>\r\n            <div class=\"info-item\">\r\n              <i class=\"icon-email\"></i>\r\n              <a :href=\"'mailto:' + contact.email\">{{ contact.email }}</a>\r\n            </div>\r\n            <div class=\"info-item\">\r\n              <i class=\"icon-phone\"></i>\r\n              <a :href=\"'tel:' + contact.phone\">{{ contact.phone }}</a>\r\n            </div>\r\n            <div class=\"info-item\">\r\n              <i class=\"icon-location\"></i>\r\n              <span>{{ contact.address }}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <form class=\"contact-form\" @submit.prevent=\"handleSubmit\">\r\n            <div class=\"form-group\">\r\n              <label for=\"name\" class=\"form-label\">Name</label>\r\n              <input type=\"text\"\r\n                     id=\"name\"\r\n                     v-model=\"form.name\"\r\n                     class=\"form-control\"\r\n                     required>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label for=\"email\" class=\"form-label\">Email</label>\r\n              <input type=\"email\"\r\n                     id=\"email\"\r\n                     v-model=\"form.email\"\r\n                     class=\"form-control\"\r\n                     required>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label for=\"subject\" class=\"form-label\">Subject</label>\r\n              <input type=\"text\"\r\n                     id=\"subject\"\r\n                     v-model=\"form.subject\"\r\n                     class=\"form-control\">\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label for=\"message\" class=\"form-label\">Message</label>\r\n              <textarea id=\"message\"\r\n                        v-model=\"form.message\"\r\n                        class=\"form-control\"\r\n                        rows=\"5\"\r\n                        required></textarea>\r\n            </div>\r\n\r\n            <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"isSubmitting\">\r\n              {{ isSubmitting ? 'Sending...' : 'Send Message' }}\r\n            </button>\r\n\r\n            <div v-if=\"submitStatus\" \r\n                 :class=\"['submit-status', submitStatus.success ? 'success' : 'error']\">\r\n              {{ submitStatus.message }}\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'ContactPage',\r\n  setup() {\r\n    const contact = ref({\r\n      email: '',\r\n      phone: '',\r\n      address: ''\r\n    })\r\n\r\n    const form = ref({\r\n      name: '',\r\n      email: '',\r\n      subject: '',\r\n      message: ''\r\n    })\r\n\r\n    const isSubmitting = ref(false)\r\n    const submitStatus = ref(null)\r\n\r\n    const fetchContactInfo = async () => {\r\n      try {\r\n        const response = await axios.get('/api/settings.php?section=contact')\r\n        if (response.data && response.data.contact) {\r\n          contact.value = response.data.contact\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching contact info:', error)\r\n      }\r\n    }\r\n\r\n    const handleSubmit = async () => {\r\n      isSubmitting.value = true\r\n      submitStatus.value = null\r\n\r\n      try {\r\n        const response = await axios.post('/api/contact.php', form.value)\r\n        submitStatus.value = {\r\n          success: true,\r\n          message: response.data.message\r\n        }\r\n        // 清空表单\r\n        form.value = {\r\n          name: '',\r\n          email: '',\r\n          subject: '',\r\n          message: ''\r\n        }\r\n      } catch (error) {\r\n        submitStatus.value = {\r\n          success: false,\r\n          message: error.response?.data?.error || 'An error occurred. Please try again.'\r\n        }\r\n      } finally {\r\n        isSubmitting.value = false\r\n      }\r\n    }\r\n\r\n    onMounted(() => {\r\n      fetchContactInfo()\r\n    })\r\n\r\n    return {\r\n      contact,\r\n      form,\r\n      isSubmitting,\r\n      submitStatus,\r\n      handleSubmit\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.contact-page {\r\n  padding-top: 80px;\r\n}\r\n\r\n.contact-content {\r\n  display: grid;\r\n  grid-template-columns: 1fr 2fr;\r\n  gap: 4rem;\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.contact-info {\r\n  padding: 2rem;\r\n  background-color: #112240;\r\n  border-radius: 4px;\r\n  height: fit-content;\r\n}\r\n\r\n.contact-info h3 {\r\n  margin-bottom: 2rem;\r\n  color: #e6f1ff;\r\n}\r\n\r\n.info-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  margin-bottom: 1.5rem;\r\n  color: #8892b0;\r\n}\r\n\r\n.info-item i {\r\n  font-size: 1.25rem;\r\n  color: #64ffda;\r\n}\r\n\r\n.info-item a {\r\n  color: #8892b0;\r\n  text-decoration: none;\r\n  transition: color 0.3s ease;\r\n}\r\n\r\n.info-item a:hover {\r\n  color: #64ffda;\r\n}\r\n\r\n.contact-form {\r\n  padding: 2rem;\r\n  background-color: #112240;\r\n  border-radius: 4px;\r\n}\r\n\r\n.submit-status {\r\n  margin-top: 1rem;\r\n  padding: 1rem;\r\n  border-radius: 4px;\r\n  text-align: center;\r\n}\r\n\r\n.submit-status.success {\r\n  background-color: rgba(100, 255, 218, 0.1);\r\n  color: #64ffda;\r\n}\r\n\r\n.submit-status.error {\r\n  background-color: rgba(255, 100, 100, 0.1);\r\n  color: #ff6464;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .contact-content {\r\n    grid-template-columns: 1fr;\r\n    gap: 2rem;\r\n  }\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}