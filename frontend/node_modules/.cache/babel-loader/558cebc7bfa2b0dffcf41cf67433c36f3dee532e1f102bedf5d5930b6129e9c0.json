{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport axios from 'axios';\nexport default {\n  name: 'Contact',\n  setup() {\n    const contact = ref({\n      email: '',\n      phone: '',\n      address: ''\n    });\n    const form = ref({\n      name: '',\n      email: '',\n      subject: '',\n      message: ''\n    });\n    const isSubmitting = ref(false);\n    const submitStatus = ref(null);\n    const fetchContactInfo = async () => {\n      try {\n        const response = await axios.get('/api/settings.php?section=contact');\n        if (response.data && response.data.contact) {\n          contact.value = response.data.contact;\n        }\n      } catch (error) {\n        console.error('Error fetching contact info:', error);\n      }\n    };\n    const handleSubmit = async () => {\n      isSubmitting.value = true;\n      submitStatus.value = null;\n      try {\n        const response = await axios.post('/api/contact.php', form.value);\n        submitStatus.value = {\n          success: true,\n          message: response.data.message\n        };\n        // 清空表单\n        form.value = {\n          name: '',\n          email: '',\n          subject: '',\n          message: ''\n        };\n      } catch (error) {\n        submitStatus.value = {\n          success: false,\n          message: error.response?.data?.error || 'An error occurred. Please try again.'\n        };\n      } finally {\n        isSubmitting.value = false;\n      }\n    };\n    onMounted(() => {\n      fetchContactInfo();\n    });\n    return {\n      contact,\n      form,\n      isSubmitting,\n      submitStatus,\n      handleSubmit\n    };\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}